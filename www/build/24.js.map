{"version":3,"sources":["../../src/pages/cancelar-transacao/cancelar-transacao.module.ts","../../src/util/date.util.ts","../../src/pages/cancelar-transacao/cancelar-transacao.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CancelarTransacaoPage } from './cancelar-transacao';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CancelarTransacaoPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(CancelarTransacaoPage),\r\n  ],\r\n})\r\nexport class CancelarTransacaoPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cancelar-transacao/cancelar-transacao.module.ts","export class DateUtil {\r\n\r\n  public static formatDate(date: string): string {\r\n    let dateRoute: string = date.substring(0, date.indexOf('_'));\r\n    dateRoute = dateRoute.replace('-', '.').replace('-', '.');\r\n\r\n    let year = dateRoute.substring(0, 4);\r\n    let month = dateRoute.substring(5, 6);\r\n    let day = dateRoute.substring(7, 8);\r\n\r\n    return day + \".\" + month + \".\" + year;\r\n  }\r\n\r\n  public static formatHour(date: string): string {\r\n    let hourRoute: string = date.substring(date.indexOf('_') + 1, date.length);\r\n    return hourRoute.replace('-', ':').replace('-', ':').substring(0, 5);\r\n  }\r\n\r\n  public static formatDateWithHour(date: string): string {\r\n    return this.formatDate(date) + \" \" + this.formatHour(date);\r\n  }\r\n\r\n  public static formatDateForID(date: Date) {\r\n    let day, month, year, hours, minutes, seconds;\r\n\r\n    if (date.getMonth() < 9) {\r\n      month = \"0\" + (date.getMonth() + 1);\r\n    } else {\r\n      month = \"\" + (date.getMonth() + 1);\r\n    }\r\n\r\n    if (date.getDate() < 10) {\r\n      day = \"0\" + date.getDate();\r\n    } else {\r\n      day = date.getDate();\r\n    }\r\n\r\n    if (date.getHours() < 10) {\r\n      hours = \"0\" + date.getHours();\r\n    } else {\r\n      hours = date.getHours();\r\n    }\r\n\r\n    if (date.getMinutes() < 10) {\r\n      minutes = \"0\" + date.getMinutes();\r\n    } else {\r\n      minutes = date.getMinutes();\r\n    }\r\n\r\n    if (date.getSeconds() < 10) {\r\n      seconds = \"0\" + date.getSeconds();\r\n    } else {\r\n      seconds = date.getSeconds();\r\n    }\r\n\r\n    year = date.getFullYear();\r\n\r\n    return day + \"\" + month + \"\" + year + \"_\" + hours + \"\" + minutes + \"\" + seconds;\r\n  }\r\n\r\n  static convertDate(isoDateStr: string) {\r\n    // 2018-06-22T11:11:54\r\n    let split = isoDateStr.split('T');\r\n    let dateStr = split[0];\r\n    let hourStr = split[1];\r\n\r\n    let dateArr = dateStr.split('-');\r\n    let hourArr = hourStr.split(':');\r\n\r\n    let dt = new Date();\r\n    dt.setFullYear(parseInt(dateArr[0]));\r\n    dt.setMonth(parseInt(dateArr[1]) - 1);\r\n    dt.setDate(parseInt(dateArr[2]));\r\n    dt.setHours(parseInt(hourArr[0]));\r\n    dt.setMinutes(parseInt(hourArr[1]));\r\n    dt.setSeconds(parseInt(hourArr[2]));\r\n\r\n    return dt;\r\n  }\r\n\r\n  /**\r\n   * Pega a Data atual e formata YY-MM-DDTHH:MM:SS\r\n   * Usado nas simulações da AMC\r\n   */\r\n  static getCurrenteDateFormated(): string {\r\n    let currentDate = new Date().toISOString().slice(0, 10)\r\n    let currentTime = new Date().toLocaleTimeString()\r\n    return currentDate + 'T' + currentTime\r\n  }\r\n\r\n  /**\r\n   * Gera um número único para utilização no ID da Transação\r\n   * https://stackoverflow.com/questions/16176757/generate-unique-id-with-javascript-not-exceeding-an-integer\r\n   */\r\n  static uniqueID() {\r\n    const timeinmilis = new Date().getTime();\r\n    const unique = timeinmilis & 0xffffffff;\r\n    return unique < 0 ? (unique * -1) : unique;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/date.util.ts","import { Component } from '@angular/core';\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ViewController,\r\n  AlertController,\r\n  Events,\r\n  LoadingController,\r\n  Loading\r\n} from 'ionic-angular';\r\n\r\n\r\nimport { User } from './../../models/user';\r\nimport { CanceladoModel } from './../../models/estacionar';\r\nimport { CreditoModel } from '../../models/credito';\r\nimport { CadModel } from '../../models/cad';\r\n\r\nimport { UserProvider } from '../../providers/user/user';\r\nimport { ComunicacaoCentralProvider } from '../../providers/comunicacao-central/comunicacao-central';\r\nimport { CreditosProvider } from '../../providers/creditos/creditos'\r\nimport { PagarmeProvider } from \"../../providers/pagarme/pagarme\";\r\nimport { CadsUserProvider } from \"../../providers/cads-user/cads-user\";\r\nimport { TempoEstacionadoProvider } from '../../providers/tempo-estacionado/tempo-estacionado';\r\n\r\nimport { DateUtil } from '../../util/date.util';\r\nimport { Constants } from '../../environments/constants';\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-cancelar-transacao',\r\n  templateUrl: 'cancelar-transacao.html',\r\n})\r\nexport class CancelarTransacaoPage {\r\n\r\n  credito: CreditoModel\r\n  //estacionar: EstacionarModel;\r\n  user: User;\r\n  motivo;\r\n  cad: CadModel;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    public viewCtrl: ViewController,\r\n    public alertCtrl: AlertController,\r\n    public loadingCtrl: LoadingController,\r\n    public events: Events,\r\n    private creditoProvider: CreditosProvider,\r\n    private pagarmeProvider: PagarmeProvider,\r\n    private cadsUserProvider: CadsUserProvider,\r\n    private tempoEstacionadoProvider: TempoEstacionadoProvider,\r\n    private comunicacaoCentralProvider: ComunicacaoCentralProvider,\r\n    private userProvider: UserProvider) {\r\n\r\n    this.comunicacaoCentralProvider.setDMA_NTP();\r\n    this.init();\r\n  }\r\n\r\n  ionViewCanEnter() {\r\n    this.userProvider.getUserLocal().then(userID => {\r\n      if (userID && this.credito) {\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  init() {\r\n    const estacionarStr = this.navParams.get('credito');\r\n    this.cad = this.navParams.get('cad')\r\n    if (estacionarStr) {\r\n      this.credito = JSON.parse(estacionarStr);\r\n    }\r\n    this.userProvider.getUserLocal().then(userID => {\r\n      if (userID) {\r\n        this.userProvider.byId(userID).take(1).subscribe((user: User) => this.user = user);\r\n      }\r\n    });\r\n  }\r\n\r\n  updateData() {\r\n    if (!this.user) {\r\n      return;\r\n    }\r\n\r\n    this.showAlert(\r\n      \"Cancelamento\", \"Tem certeza que deseja prosseguir com a solicitação de cancelamento?\", \"\", () => {\r\n        this.tempoEstacionadoProvider.getHoraAtualFromFirebase().then(data => {\r\n          let loading: Loading = this.loadingCtrl.create({ content: 'Aguarde ...' })\r\n          loading.present()\r\n          this.operacaoLinkL2(this.credito, data.dateNow, (dataProcessamento, autenticacao) => {\r\n            this.efetuarEstorno(this.credito).then(response => {\r\n              console.log(response)\r\n              if (response.status == 'refunded') {\r\n\r\n                this.credito.dadoCancelamento = new CanceladoModel();\r\n                this.credito.dadoCancelamento.dataHoraRegistro = dataProcessamento;\r\n                this.credito.dadoCancelamento.autenticacao = autenticacao;\r\n                this.credito.dadoCancelamento.motivoCancelamento = this.motivo\r\n                this.credito.status = 'cancelado'\r\n                this.creditoProvider.update(this.credito.id, this.user.id, this.credito);\r\n\r\n                const cads = (this.getValor(this.credito) / this.cad.valor_unitario)\r\n                let horaCancelado = new Date(dataProcessamento).getTime()\r\n                this.events.publish('cancelAttempt', { data: horaCancelado, try: true });\r\n\r\n                this.updateQtdCadsUsados(this.user.id, cads)\r\n                loading.dismiss()\r\n\r\n                this.showAlert('Tudo certo', 'Solicitação realizada com sucesso!', \"\", () => {\r\n                  this.navCtrl.setRoot(Constants.PRINCIPAL_PAGE.name)\r\n\r\n                }, () => { }, 'OK', 'Cancelar')\r\n              }\r\n              else {\r\n                loading.dismiss()\r\n                this.showAlert('Erro', 'Ocorreu algum problema durante sua solitação de cancelamento. Tente novamente em alguns instantes', \"\", () => { }, () => { }, 'OK', 'Cancelar')\r\n              }\r\n            })\r\n\r\n          });\r\n        });\r\n\r\n      }, () => { }, 'Confirmar');\r\n\r\n\r\n  }\r\n\r\n  showAlert(title: string, msg: string, type: string, success, error, btnOk = \"Confirmar\", btnCancelar = 'Cancelar') {\r\n\r\n    const okBtn = {\r\n      text: btnOk,\r\n      cssClass: 'btn-ok',\r\n      handler: data => {\r\n        success();\r\n      }\r\n    };\r\n\r\n    const cancelBtn = {\r\n      text: btnCancelar,\r\n      cssClass: 'btn-ok',\r\n      handler: data => {\r\n        error();\r\n      }\r\n    };\r\n\r\n    const btns = [];\r\n\r\n    btns.push(cancelBtn);\r\n\r\n    if (btnOk !== '')\r\n      btns.push(okBtn);\r\n\r\n\r\n    let alert = this.alertCtrl.create({\r\n      title: title,\r\n      message: msg,\r\n      cssClass: type,\r\n      buttons: btns\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  operacaoLinkL2(credito: CreditoModel, dataEnvio: Date, callback = undefined) {\r\n    this.verificaLinkL2(credito, dataEnvio)\r\n      .then(response => {\r\n\r\n        const dataProcessamentoStr = response['dataProcessamento'];\r\n        const dataProcessamento = DateUtil.convertDate(dataProcessamentoStr);\r\n\r\n        const autenticacao = response['autenticacao'];\r\n\r\n        if (response['sucesso'] || response['sucesso'] === 'true') {\r\n          if (callback) {\r\n\r\n            callback(dataProcessamento, autenticacao);\r\n          }\r\n        } else {\r\n          this.showAlert('Atenção', 'Não foi possível cancelar a Operação. Para mais informações entre em contato com nosso canal de atendimento.', '', () => { }, () => { }, '', 'OK');\r\n        }\r\n\r\n      }).catch(error => {\r\n        this.showAlert('Indisponível', 'Não foi possível estabelecer uma comunicação com o serviço da AMC. Para mais informações entre em contato com nosso canal de atendimento.', '', () => { }, () => { }, '', 'OK');\r\n      })\r\n  }\r\n\r\n  verificaLinkL2(credito: CreditoModel, dataEnvio: Date) {\r\n    if (this.user.profile === 'revendedor') {\r\n\r\n    } else {\r\n      let cancel_id = DateUtil.uniqueID()\r\n      console.log(cancel_id)\r\n      this.comunicacaoCentralProvider.consultaTransacaoApp(credito.idTransacao)\r\n      this.comunicacaoCentralProvider.consultaTransacaoApp(cancel_id)\r\n      /* Funciona paramentro idTranscacao id gerado na propria operecao de cancelamento\r\n        idTransacao cancelamento é o paramentro obitdo na hora da compra de CADS pelo usuário\r\n        this.comunicacaoCentralProvider.cancelamentoApp(teste,this.motivo,1784465179,dataEnvio) */\r\n      return this.comunicacaoCentralProvider.cancelamentoApp(cancel_id, this.motivo, credito.idTransacao, dataEnvio)\r\n\r\n    }\r\n  }\r\n\r\n  updateQtdCadsUsados(userID: string, cads: number) {\r\n    this.cadsUserProvider.getQtdCadsUsados(this.user.id).take(1).subscribe(item => {\r\n      this.cadsUserProvider.updateQtdCadsUsadas(userID, (cads + <number>item));\r\n    });\r\n  }\r\n\r\n  efetuarEstorno(credito) {\r\n\r\n    return this.pagarmeProvider.estorno(credito)\r\n  }\r\n\r\n  getValor(credito: CreditoModel) {\r\n    if (!credito)\r\n      return 0;\r\n\r\n    return credito.valorSemDesconto ? credito.valorSemDesconto : credito.valor;\r\n  }\r\n\r\n  close() {\r\n    this.navCtrl.setRoot(Constants.HISTORICO_PAGE.name)\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cancelar-transacao/cancelar-transacao.ts"],"sourceRoot":""}